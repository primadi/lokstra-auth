### Debug Authentication Issue
@baseUrl = http://localhost:8080/api/auth
@tenantId = acme-corp
@appId = main-app
@userId = john.doe

### STEP 1: Check if tenant exists
GET {{baseUrl}}/core/tenants/{{tenantId}}

### STEP 2: Check if app exists
GET {{baseUrl}}/core/tenants/{{tenantId}}/apps/{{appId}}

### STEP 3: Check if user exists
GET {{baseUrl}}/core/tenants/{{tenantId}}/users/id/{{userId}}

### STEP 4: Check credential config (basic auth enabled?)
GET {{baseUrl}}/core/config/credentials/tenants/{{tenantId}}

### STEP 5: Try to login
POST {{baseUrl}}/cred/basic/login
Content-Type: application/json
X-Tenant-ID: {{tenantId}}
X-App-ID: {{appId}}

{
  "username": "john.doe",
  "password": "NewSecurePass123!",
  "ip_address": "192.168.1.100",
  "user_agent": "Mozilla/5.0"
}

### STEP 6: If login fails, check if password is set
# Look at STEP 3 response - does user have password_hash field?
# If password_hash is null or missing, set it:

### STEP 7: Set password (if needed)
POST {{baseUrl}}/core/tenants/{{tenantId}}/users/id/{{userId}}/password
Content-Type: application/json

{
  "password": "NewSecurePass123!"
}

### STEP 8: Try login again after setting password
POST {{baseUrl}}/cred/basic/login
Content-Type: application/json
X-Tenant-ID: {{tenantId}}
X-App-ID: {{appId}}

{
  "username": "john.doe",
  "password": "NewSecurePass123!"
}
